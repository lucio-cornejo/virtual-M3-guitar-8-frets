<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=0.8, user-scalable=no">
        <!-- viewport = document.querySelector("meta[name=viewport]");
        viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=0.8, user-scalable=0'); -->

        <script>
            // Prevent scrolling
            document.body.addEventListener('touchmove', function(event) {event.preventDefault();}, {passive: false}); 

            // Prevent pinch for drag or zoom  (seems to work on Chrome, but on Opera browser)
            window.addEventListener("touchstart", touchHandler, true);
            function touchHandler(event){
                if(event.touches.length > 1){
                    //the event is multi-touch
                    //you can then prevent the behavior
                    event.preventDefault();
                }
            }
        </script>
        <style>
            /* Do not show menu with "copy, paste, ..." after long press */
            body { 
                -youbkit-touch-callout: none; /* iOS Safari */
                -youbkit-user-select: none;   /* Chrome 6.0+, Safari 3.1+, Edge & Opera 15+ */
                -moz-user-select: none;    /* Firefox */
                -ms-user-select: none;        /* IE 10+ and Edge */
                user-select: none;            /* Non-prefixed version,currently supported by Chrome and Opera */
            }

            /* Disable double-tap zoom */
            html {
                touch-action: manipulation;
            }

            body {background-color: rgba(45, 145, 195, 0.981);}

            table {
                /* min-width: 100%; */
                max-height: 100%;
                border-spacing: 15px 15px;
            }
            td {
                padding: 35px;
                text-align: center;
                /* border: solid red 2px; */
            }
            .hover{
                color: yellow !important;
                background-color: red !important;
            }
            .black {
                color: white;
                background-color: black;
            }
            .white {
                color: black;
                background-color: white;
            }
        </style>
    </head>
    <body>
        <table>
            <tr>
                <td class="black" id="ab40" data-nota=20>Ab</td>
                <td class="white" id="a40" data-nota=21>A</td>
                <td class="black" id="bb40" data-nota=22>Bb</td>
                <td class="white" id="b40" data-nota=23>B</td>

                <td class="white" id="c51" data-nota=24>C</td>
                <td class="black" id="db51" data-nota=25>Db</td>
                <td class="white" id="d51" data-nota=26>D</td>
                <td class="black" id="eb51" data-nota=27>Eb</td>
            </tr>
            <tr>
                <td class="white" id="e40" data-nota=16>E</td>
                <td class="white" id="f40" data-nota=17>F</td>
                <td class="black" id="gb40" data-nota=18>F#</td>
                <td class="white" id="g40" data-nota=19>G</td>

                <td class="black" id="ab41" data-nota=20>Ab</td>
                <td class="white" id="a41" data-nota=21>A</td>
                <td class="black" id="bb41" data-nota=22>Bb</td>
                <td class="white" id="b41" data-nota=23>B</td>
            </tr>
            <tr>
                <td class="white" id="c40" data-nota=12>C</td>
                <td class="black" id="db40" data-nota=13>Db</td>
                <td class="white" id="d40" data-nota =14>D</td>
                <td class="black" id="eb40" data-nota=15>Eb</td>

                <td class="white" id="e41" data-nota=16>E</td>
                <td class="white" id="f41" data-nota=17>F</td>
                <td class="black" id="gb41" data-nota=18>F#</td>
                <td class="white" id="g41" data-nota=19>G</td>
            </tr>

            <tr>
                <td class="black" id="ab30" data-nota=8>Ab</td>
                <td class="white" id="a30" data-nota=9>A</td>
                <td class="black" id="bb30" data-nota=10>Bb</td>
                <td class="white" id="b30" data-nota=11>B</td>

                <td class="white" id="c41" data-nota=12>C</td>
                <td class="black" id="db41" data-nota=13>Db</td>
                <td class="white" id="d41" data-nota=14>D</td>
                <td class="black" id="eb41" data-nota=15>Eb</td>
            </tr>
            <tr>
                <td class="white" id="e30" data-nota=4>E</td>
                <td class="white" id="f30" data-nota=5>F</td>
                <td class="black" id="gb30" data-nota=6>F#</td>
                <td class="white" id="g30" data-nota=7>G</td>

                <td class="black" id="ab31" data-nota=8>Ab</td>
                <td class="white" id="a31" data-nota=9>A</td>
                <td class="black" id="bb31" data-nota=10>Bb</td>
                <td class="white" id="b31" data-nota=11>B</td>
            </tr>
            <tr>
                <td class="white" id="c30" data-nota=0>C</td>
                <td class="black" id="db30" data-nota=1>Db</td>
                <td class="white" id="d30" data-nota=2>D</td>
                <td class="black" id="eb30" data-nota=3>Eb</td>

                <td class="white" id="e31" data-nota=4>E</td>
                <td class="white" id="f31" data-nota=5>F</td>
                <td class="black" id="gb31" data-nota=6>F#</td>
                <td class="white" id="g31" data-nota=7>G</td>
            </tr>
        </table>

        <audio class="notes" preload="auto"><source src="audio/C3.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/Db3.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/D3.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/Eb3.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/E3.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/F3.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/Gb3.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/G3.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/Ab3.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/A3.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/Bb3.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/B3.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/C4.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/Db4.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/D4.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/Eb4.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/E4.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/F4.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/Gb4.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/G4.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/Ab4.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/A4.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/Bb4.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/B4.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/C5.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/Db5.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/D5.mp3"></source></audio>
        <audio class="notes" preload="auto"><source src="audio/Eb5.mp3"></source></audio>

        <script>
            // Play sound on hover
            let musical_notes = document.getElementsByClassName('notes');
            let notas_izquierda = ['c30','db30','d30','eb30','e30','f30','gb30','g30','ab30','a30','bb30','b30','c40','db40','d40','eb40','e40','f40','gb40','g40','ab40','a40','bb40','b40']
            let notas_derecha = ['e31','f31','gb31','g31','ab31','a31','bb31','b31','c41','db41','d41','eb41','e41','f41','gb41','g41','ab41','a41','bb41','b41','c51','db51','d51','eb51']
            var audio;

            // Asignamos audio interaction a las notas del lado izquierdo
            for(var i=0; i<notas_izquierda.length;i++){
                document.getElementById(notas_izquierda[i]).addEventListener('touchstart',function() {
                    audio = musical_notes[this.dataset.nota]; audio.currentTime = 0; audio.play();
                    this.classList.add('hover');});
                document.getElementById(notas_izquierda[i]).addEventListener('touchend',function () {this.classList.remove('hover');});
            }

            // Asignamos audio interaction a las notas del lado derecho
            for(var i=0; i<notas_derecha.length;i++){
                document.getElementById(notas_derecha[i]).addEventListener('touchstart',function() {
                    audio = musical_notes[this.dataset.nota]; audio.currentTime = 0; audio.play();
                    this.classList.add('hover');});
                document.getElementById(notas_derecha[i]).addEventListener('touchend',function () {this.classList.remove('hover');});
            }
        </script>

        <script>
            // Coloring the diagram similarly to how my physical M3 guitar looks like
            var temp;
            let tabla = document.getElementsByTagName('tr');

            for(var i=0; i< tabla.length; i++){
                temp = Array.prototype.slice.call(tabla[i].children);
                for(var j=0; j<8;j++){
                    temp[j].style.color = 'white';
                    temp[j].style.backgroundColor = 'black';
                }
                temp[0].style.backgroundColor =  'rgb(255,255,50)'; temp[0].style.color = 'black';
                temp[4].style.backgroundColor = 'rgb(255,255,50)'; temp[4].style.color = 'black';
            }

            // If using Chrome to display site, alter some specific CSS
            window.onload = function() {
                var is_chrome = (typeof window.chrome === "object" && navigator.appVersion.indexOf('Edge') === -1);
                if(is_chrome){
                    document.querySelector('table').style.borderSpacing = '2px 2px';
                }
            }
        </script>

    </body>
</html>